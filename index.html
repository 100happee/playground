<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Fake 3D Platformer (CSS 3D Illusion)</title>
<style>
html,body {
  height:100%;
  margin:0;
  background:#0e1016;
  overflow:hidden;
}
#scene {
  width:100%;
  height:100%;
  perspective: 1000px;
  perspective-origin: 50% 50%;
  overflow:hidden;
}
.world {
  width:0; height:0;
  transform-style: preserve-3d;
  transform: rotateX(15deg) rotateY(0deg) translateZ(0);
}
.cube {
  position:absolute;
  width:100px; height:100px;
  transform-style: preserve-3d;
}
.face {
  position:absolute;
  width:100%; height:100%;
  background:rgba(0,128,255,0.9);
  border:1px solid rgba(0,0,0,0.3);
}
.face.front  { transform: translateZ(50px); background:#2196f3; }
.face.back   { transform: rotateY(180deg) translateZ(50px); background:#1976d2; }
.face.right  { transform: rotateY(90deg) translateZ(50px); background:#42a5f5; }
.face.left   { transform: rotateY(-90deg) translateZ(50px); background:#64b5f6; }
.face.top    { transform: rotateX(90deg) translateZ(50px); background:#90caf9; }
.face.bottom { transform: rotateX(-90deg) translateZ(50px); background:#1565c0; }

.ground {
  position:absolute;
  width:2000px; height:2000px;
  background:repeating-linear-gradient(0deg, #1c2230 0px, #1c2230 50px, #141924 50px, #141924 100px),
              repeating-linear-gradient(90deg, #1c2230 0px, #1c2230 50px, #141924 50px, #141924 100px);
  transform: rotateX(90deg) translateY(50px);
  transform-origin: top;
}

.platform {
  position:absolute;
  width:100px; height:100px;
  background:#ff7043;
  transform-style:preserve-3d;
}
</style>
</head>
<body>
<div id="scene">
  <div class="world" id="world">
    <div class="ground"></div>
    <!-- player -->
    <div class="cube" id="player" style="transform:translate3d(0px,0px,0px)">
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face left"></div>
      <div class="face right"></div>
      <div class="face top"></div>
      <div class="face bottom"></div>
    </div>
    <!-- a few platforms -->
    <div class="platform" style="transform:translate3d(300px,-50px,-400px)"></div>
    <div class="platform" style="transform:translate3d(-200px,-100px,-700px)"></div>
    <div class="platform" style="transform:translate3d(200px,-150px,-1000px)"></div>
    <div class="platform" style="transform:translate3d(0px,-200px,-1300px)"></div>
  </div>
</div>
<script>
const world = document.getElementById("world");
const player = document.getElementById("player");

let pos = {x:0, y:0, z:0, vy:0};
let yaw = 0, pitch = 15;
let keys = {};
let dragging = false, lastMouse = {x:0,y:0};

document.addEventListener("keydown", e => keys[e.code]=true);
document.addEventListener("keyup", e => keys[e.code]=false);

document.addEventListener("mousedown", e => {
  dragging = true;
  lastMouse.x = e.clientX;
  lastMouse.y = e.clientY;
});
document.addEventListener("mouseup", ()=>dragging=false);
document.addEventListener("mousemove", e=>{
  if(!dragging)return;
  const dx = e.clientX - lastMouse.x;
  yaw += dx * 0.3;
  lastMouse.x = e.clientX;
});

function loop(){
  requestAnimationFrame(loop);

  // Movement
  const speed = 5;
  const rad = yaw * Math.PI/180;
  if(keys["KeyW"]) { pos.x -= Math.sin(rad)*speed; pos.z -= Math.cos(rad)*speed; }
  if(keys["KeyS"]) { pos.x += Math.sin(rad)*speed; pos.z += Math.cos(rad)*speed; }
  if(keys["KeyA"]) { pos.x -= Math.cos(rad)*speed; pos.z += Math.sin(rad)*speed; }
  if(keys["KeyD"]) { pos.x += Math.cos(rad)*speed; pos.z -= Math.sin(rad)*speed; }

  // Jump physics
  pos.vy -= 0.6; // gravity
  pos.y += pos.vy;
  if(pos.y > 0){ pos.y = 0; pos.vy = 0; } // hit ground
  if(keys["Space"] && pos.y==0) pos.vy = 10;

  // Update player transform
  player.style.transform = `translate3d(${pos.x}px,${-pos.y}px,${pos.z}px)`;

  // Move world for camera illusion
  world.style.transform = `rotateX(${pitch}deg) rotateY(${yaw}deg) translate3d(${-pos.x}px,${pos.y}px,${-pos.z-400}px)`;
}
loop();
</script>
</body>
</html>
